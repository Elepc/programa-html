<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5, user-scalable=yes" />
  <title>Programa de Teatro</title>

  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      overflow: hidden;
      font-family: sans-serif;
      background-color: #000;
      touch-action: pan-y;
    }

    /* Pantalla de ayuda con transici√≥n suave y desplazamiento hacia arriba */
    .help-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.95);
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 40px 25px;
      text-align: center;
      z-index: 1000;
      opacity: 1;
      transform: translateY(0);
      transition: opacity 1.5s ease, transform 1.5s ease;
    }

    .help-screen.hidden {
      opacity: 0;
      transform: translateY(-30px);
      pointer-events: none;
    }

    .help-screen h2 {
      font-size: 1.6em;
      margin-bottom: 20px;
    }

    .help-screen p, .help-screen ul {
      font-size: 1.1em;
      line-height: 1.6em;
      max-width: 400px;
    }

    .help-screen ul {
      margin-top: 15px;
      text-align: left;
    }

    .help-screen button {
      margin-top: 30px;
      padding: 12px 28px;
      font-size: 18px;
      border: none;
      border-radius: 5px;
      background-color: #FFA500;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    }

    .swiper-container {
      width: 100%;
      height: 100%;
    }

    .swiper-slide {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #000;
      opacity: 0.5;
      transform: scale(0.95);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .swiper-slide-active {
      opacity: 1 !important;
      transform: scale(1.03) !important;
      animation: bounceIn 0.6s ease-out;
    }

    .swiper-slide img {
      width: 100%;
      height: auto;
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      touch-action: none;
      transition: opacity 0.3s ease;
    }

    @keyframes bounceIn {
      0% {
        transform: scale(0.9);
      }
      60% {
        transform: scale(1.06);
      }
      100% {
        transform: scale(1);
      }
    }
  </style>
</head>
<body>

  <!-- Pantalla de ayuda -->
  <div class="help-screen" id="helpScreen">
    <h2>üì≤ Guarda esta p√°gina</h2>
    <p>Para poder verla dentro del teatro<br />
      sin conexi√≥n, te recomendamos:</p>
    <ul>
      <li>üì± <strong>iPhone (Safari):</strong><br />
          Toca <em>Compartir</em> ‚Üí <strong>‚ÄúAgregar a pantalla de inicio‚Äù</strong>.</li>
      <li>üì± <strong>Android (Chrome):</strong><br />
          Toca los 3 puntitos arriba a la derecha ‚Üí <strong>‚ÄúAgregar a pantalla principal‚Äù</strong>.</li>
    </ul>
    <button onclick="hideHelp()">Entendido</button>
  </div>

  <!-- Swiper vertical -->
  <div class="swiper-container">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><img src="1.png" alt="P√°gina 1" /></div>
      <div class="swiper-slide"><img src="2.png" alt="P√°gina 2" /></div>
      <div class="swiper-slide"><img src="3.png" alt="P√°gina 3" /></div>
      <div class="swiper-slide"><img src="4.png" alt="P√°gina 4" /></div>
      <div class="swiper-slide"><img src="5.png" alt="P√°gina 5" /></div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script src="https://unpkg.com/@panzoom/panzoom/dist/panzoom.min.js"></script>

  <script>
    // Transici√≥n suave para ocultar la pantalla de ayuda
    function hideHelp() {
      const help = document.getElementById('helpScreen');
      help.classList.add('hidden');
      setTimeout(() => {
        help.style.display = 'none';
      }, 1600); // coincide con los 1.5s de transici√≥n
    }

    const swiper = new Swiper('.swiper-container', {
      direction: 'vertical',
      slidesPerView: 1,
      spaceBetween: 0,
      speed: 800,
      loop: true,
      mousewheel: true,
      simulateTouch: true,
      touchEventsTarget: 'wrapper',
      on: {
        slideChangeTransitionStart: function () {
          const slides = this.slides;
          slides.forEach(slide => slide.classList.remove('swiper-slide-active'));
        },
        slideChangeTransitionEnd: function () {
          this.slides[this.activeIndex].classList.add('swiper-slide-active');
        },
      }
    });

    // Zoom t√°ctil con Panzoom
    document.querySelectorAll('.swiper-slide img').forEach(img => {
      const panzoom = Panzoom(img, {
        maxScale: 5,
        minScale: 1,
        contain: 'outside'
      });

      // Desactivar swiper si hay 2 dedos
      img.addEventListener('touchmove', e => {
        if (e.touches.length > 1) {
          swiper.allowTouchMove = false;
        }
      });

      // Reactivar swiper si hay solo 1 dedo
      img.addEventListener('touchend', e => {
        if (e.touches.length < 2) {
          swiper.allowTouchMove = true;
        }
      });

      img.addEventListener('touchcancel', () => {
        swiper.allowTouchMove = true;
      });
    });
  </script>
</body>
</html>
